---
alwaysApply: true
---

# 개발 워크플로우 및 브랜치 전략

## 브랜치 전략

새 기능을 개발할 때는 반드시 feature 브랜치를 생성해야 합니다.

### 브랜치 명명 규칙 (필수 준수)
- `main`: 프로덕션 배포 브랜치 (보호됨, 직접 커밋 금지)
- `develop`: 개발 통합 브랜치 (선택사항)
- `feature/기능명`: 새로운 기능 개발 (예: `feature/user-authentication`)
- `fix/버그명`: 버그 수정 (예: `fix/login-error`)
- `hotfix/긴급수정명`: 긴급 수정사항 (예: `hotfix/security-patch`)
- `refactor/리팩토링명`: 리팩토링 작업 (예: `refactor/component-structure`)

### 브랜치 생성 워크플로우 (필수 순서)
1. 새 기능 개발 시작 시:
   ```bash
   git checkout main
   git pull origin main
   git checkout -b feature/your-feature-name
   ```
2. 개발 완료 후 PR 생성 및 코드 리뷰 요청
3. 머지 후 브랜치 삭제 (로컬 및 원격)

## 커밋 규칙 (필수 준수)

모든 커밋 메시지는 반드시 다음 형식을 따라야 합니다:

### 커밋 메시지 형식
```
type(scope): description

[optional body]
```

### 커밋 타입 (필수 사용)
- `feat`: 새로운 기능 추가
- `fix`: 버그 수정
- `docs`: 문서 수정
- `style`: 코드 포맷팅 (코드 변경 없음)
- `refactor`: 코드 리팩토링
- `test`: 테스트 코드 추가 또는 수정
- `chore`: 빌드 업무 수정, 패키지 매니저 설정 등
- `perf`: 성능 개선
- `ci`: CI/CD 설정 변경

### 커밋 전 체크리스트 (모두 확인 필수)
커밋하기 전에 반드시 다음을 확인하세요:
- [ ] 코드가 정상적으로 작동하는지 확인
- [ ] ESLint 오류가 없는지 확인 (`npm run lint`)
- [ ] 타입 오류가 없는지 확인 (`npm run type-check`)
- [ ] 테스트가 통과하는지 확인 (`npm test`)
- [ ] 불필요한 console.log 제거
- [ ] 커밋 메시지가 규칙을 따르는지 확인

## 개발 스크립트

```bash
npm run dev          # 개발 서버 실행
npm run build        # 프로덕션 빌드
npm run lint         # 코드 린팅
npm run lint:fix     # 린팅 오류 자동 수정
npm run format       # 코드 포맷팅
npm run format:check # 포맷팅 검사
npm run type-check   # TypeScript 타입 체크
npm test             # 테스트 실행 (Watch 모드)
npm run test:ui      # 테스트 UI 실행
npm run test:coverage # 테스트 커버리지 확인
```

## 초기 세팅

1. 저장소 클론 및 의존성 설치: `npm install`
2. 환경 변수 설정: `.env` 파일 생성 (`.env.example` 참고)
3. 개발 서버 실행: `npm run dev`

## 파일 구조 규칙

```
src/
  components/          # 재사용 가능한 컴포넌트
    ui/               # 기본 UI 컴포넌트
    layout/           # 레이아웃 컴포넌트
    content/          # 콘텐츠 컴포넌트
  templates/          # 페이지 템플릿
  hooks/              # 커스텀 훅
  contexts/           # React Context
  stores/             # Zustand 상태 관리 스토어
  lib/                # 유틸리티 함수
  styles/             # 전역 스타일
  i18n/               # 다국어 설정
  routes/             # 라우트 설정
  test/               # 테스트 유틸리티 및 설정
```

## 컴포넌트 작성 규칙 (필수 준수)

새로운 컴포넌트를 작성할 때는 반드시 다음 규칙을 따라야 합니다:

1. **Named Export 사용**: `export function Component() {}` (default export 금지)
2. **Props 인터페이스 정의**: 모든 props에 TypeScript 인터페이스 정의 필수
   ```tsx
   interface ComponentProps {
     title: string
     onClick?: () => void
   }
   ```
3. **타입 안전성 확보**: 모든 props, 함수 파라미터, 반환값에 타입 정의 필수
4. **파일 위치**: 컴포넌트는 목적에 따라 적절한 디렉토리에 배치
   - UI 컴포넌트: `src/components/ui/`
   - 레이아웃 컴포넌트: `src/components/layout/`
   - 콘텐츠 컴포넌트: `src/components/content/`
